webpackJsonp([57],{2155:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2222),a=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);var i=n(2287),s=n(5),l=Object(s.a)(a.a,i.a,i.b,!1,null,null,null);e.default=l.exports},2222:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(33)),a=s(n(395)),o=s(n(23)),i=s(n(258));function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"component-doc",components:{"noahv-demo0":(0,a.default)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nv-trend",{attrs:{title:"趋势图",method:"post",options:this.optionsTrend,url:this.url,params:this.params,"unit-name":"Bytes","show-loading":"数据加载中...",axisLabelFormatter:this.axisLabelFormatter,scrollTrigger:".noahv-layout"}})],1)},staticRenderFns:[]},{data:function(){return{params:{test:"trend"},optionsTrend:{},url:"/api/trend"}},methods:{axisLabelFormatter:function(t,e,n,r,a){return t.getyAxisValue(e,n,0,a)}}}),"noahv-demo1":function(){var t={data:function(){return{params:{test:"trend"},optionsTrend:{},url:"/api/trend",seriesDetailConf:[{title:"指标名称",key:"name"},{title:"最大值",key:"max"},{title:"最小值",key:"min",order:"desc"},{title:"平均值",key:"avg"}]}},methods:{seriesFilter:function(t){return t.map(function(t){return(0,r.default)(t,{statistic:{name:t.name,max:Math.floor(10*Math.random()+90),min:Math.floor(10*Math.random()+80),avg:Math.floor(10*Math.random()+85)}})})}}};return(0,a.default)({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nv-trend",{attrs:{title:"指标详情",method:"post",options:this.optionsTrend,url:this.url,params:this.params,"show-series-detail":!0,unfoldSeriesDetail:!0,seriesFilter:this.seriesFilter,seriesDetailConf:this.seriesDetailConf,"show-loading":"数据加载中...","unit-name":"个",scrollTrigger:".noahv-layout"}})],1)},staticRenderFns:[]},t)}(),"noahv-demo2":(0,a.default)({render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},{})},mounted:function(){if(this.scrollEle=document.querySelector(".noahv-layout"),this.tableEle=document.querySelector(".table-of-contents"),this.scrollEle&&this.tableEle){var t=document.querySelectorAll("pre code");[].forEach.call(t,i.default.highlightBlock),this.renderAnchor(),this.$nextTick(this.goAnchor()),this.throttled=o.default.throttle(this.handleFix,100),this.scrollEle.addEventListener("scroll",this.throttled,!1),this.anchors=document.querySelectorAll(".table-of-contents a"),this.tableEle.addEventListener("click",this.anchorClick,!1)}},beforeRouteUpdate:function(t,e,n){n(),t.path===e.path&&t.hash&&this.$nextTick(this.goAnchor)},methods:{handleFix:function(t){var e=t.target.scrollTop,n=0;if(this.anchorsList&&this.anchorsList.length){o.default.find(this.anchorsList,function(t,r){var a=document.querySelector(t);if(a&&e>a.offsetTop+30)n=r;else if(a&&e<a.offsetTop+30)return!0});var r=document.querySelector(".noahv-layout-content-wrapper").offsetHeight,a=document.querySelector(".noahv-layout").offsetHeight;n!==this.anchorsList.length-1&&a+e>r+120&&(n=this.anchorsList.length-1);var i=document.querySelectorAll(".table-of-contents a.active");i.length>0&&i[0].removeAttribute("class"),this.anchors[n].setAttribute("class","active")}},anchorClick:function(t){"A"===t.target.nodeName&&this.goAnchor()},renderAnchor:function(){var t=this,e=document.querySelectorAll(".table-of-contents a"),n=location.href.split("#").splice(0,2).join("#");this.anchorsList=[],[].slice.call(e).forEach(function(e){var r=e.getAttribute("href");t.anchorsList.push(r),e.href=n+r,e.name=r})},goAnchor:function(){if(location.href.match(/#/g).length>1){var t=location.href.match(/#[^#]+$/g);if(!t)return;var e=document.querySelector(t[0]);if(!e)return;setTimeout(function(t){document.querySelector(".noahv-layout").scrollTop=e.offsetTop+30},50)}}},beforeDestroy:function(){this.scrollEle.removeEventListener("scroll",this.throttled,!1),this.tableEle.removeEventListener("click",this.anchorClick,!1)}}},2287:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"content noahv-doc trend-doc"},[n("p"),t._m(0),n("p"),t._v(" "),n("h2",{attrs:{id:"gai-shu"}},[t._v("概述")]),t._v(" "),n("p",[t._v("趋势图组件将请求后的数据转化成趋势图")]),t._v(" "),n("h2",{attrs:{id:"shi-li"}},[t._v("示例")]),t._v(" "),n("nv-demo",[n("template",{slot:"title"},[n("p",[t._v("基础示例")])]),t._v(" "),n("template",{slot:"source"},[n("noahv-demo0")],1),t._v(" "),n("template",{slot:"code"},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{class:"html"}},[t._v('<template>\n    <nv-trend\n        title="趋势图" \n        method="post"\n        :options="optionsTrend"\n        :url="url"\n        :params="params"\n        unit-name="Bytes"\n        show-loading="数据加载中..."\n        :axisLabelFormatter="axisLabelFormatter"\n        scrollTrigger=".noahv-layout"\n    />\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            params: {\n                test: \'trend\'\n            },\n            optionsTrend: {},\n            url: \'/api/trend\'\n        }\n    },\n    methods: {\n        axisLabelFormatter(chartUtil, value, unitName, decimals, t) {\n            return chartUtil.getyAxisValue(value, unitName, 0, t)\n        }\n    }\n}\n<\/script>\n')])])])],2),n("nv-demo",[n("template",{slot:"title"},[n("p",[t._v("展示统计数据示例")])]),t._v(" "),n("template",{slot:"source"},[n("noahv-demo1")],1),t._v(" "),n("template",{slot:"code"},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{class:"html"}},[t._v('<template>\n    <nv-trend\n        title="指标详情" \n        method="post"\n        :options="optionsTrend"\n        :url="url"\n        :params="params"\n        :show-series-detail="true"\n        :unfoldSeriesDetail="true"\n        :seriesFilter="seriesFilter"\n        :seriesDetailConf="seriesDetailConf"\n        show-loading="数据加载中..."\n        unit-name="个"\n        scrollTrigger=".noahv-layout"\n    />\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            params: {\n                test: \'trend\'\n            },\n            optionsTrend: {},\n            url: \'/api/trend\',\n            seriesDetailConf: [\n                {\n                    title: \'指标名称\',\n                    key: \'name\' // 第一个key需要固定为name\n                },\n                {\n                    title: \'最大值\',\n                    key: \'max\'  // 该key为对应seriesFilter返回的statistic数据\n                },\n                {\n                    title: \'最小值\',\n                    key: \'min\',\n                    order: \'desc\' // 可以通过order指定默认排序\n                },\n                {\n                    title: \'平均值\',\n                    key: \'avg\'\n                }\n            ]\n        }\n    },\n    methods: {\n        seriesFilter(series) {\n            return series.map((item) => Object.assign(item, {\n                // 需要在series中加入statistic数据\n                statistic: {\n                    name: item.name,\n                    max: Math.floor(Math.random() * 10 + 90),\n                    min: Math.floor(Math.random() * 10 + 80),\n                    avg: Math.floor(Math.random() * 10 + 85),\n                }\n            }));\n        }\n    }\n}\n<\/script>\n')])])])],2),n("h2",{attrs:{id:"api"}},[t._v("API")]),t._v(" "),t._m(1),t._v(" "),n("nv-demo",[n("template",{slot:"title"},[n("p",[t._v("request请求返回数据格式")])]),t._v(" "),n("template",{slot:"source"},[n("noahv-demo2")],1),t._v(" "),n("template",{slot:"code"},[n("pre",{pre:!0},[n("code",{pre:!0,attrs:{class:"html"}},[t._v("{\n    success: true,\n    message: 'ok',\n    data: {\n        title: 'QPS',\n        data: [\n            {   \n                name: '指标1', \n                data: [\n                    [1529409600000, 130424],\n                    [1529409660000, 134748],\n                    [1529409720000, 144181],\n                    [1529409780000, 172382],\n                    [1529409840000, 129517],\n                    [1529409900000, 123698],\n                    [1529409960000, 121405],\n                    [1529410020000, 119301],\n                    [1529410080000, 119844],\n                    [1529410140000, 120037],\n                    [1529410200000, 119438],\n                    [1529410260000, 119643],\n                    [1529410320000, 118741],\n                    [1529410380000, 118377],\n                    [1529410440000, 116942],\n                    [1529410500000, 116924],\n                    [1529410560000, 117692],\n                    [1529410620000, 117866],\n                    [1529410680000, 117684],\n                    [1529410740000, 115287],\n                    [1529410800000, 117207],\n                    [1529410860000, 124365],\n                    [1529410920000, 123296],\n                    [1529410980000, 122052],\n                    [1529411040000, 118856],\n                    [1529411100000, 117202],\n                    [1529411160000, 116981],\n                    [1529411220000, 118927],\n                    [1529411280000, 115803],\n                    [1529411340000, 117259],\n                    [1529411400000, 118964],\n                    [1529411460000, 117716],\n                    [1529411520000, 116544],\n                    [1529411580000, 117684],\n                    [1529411640000, 115080],\n                    [1529411700000, 114624],\n                    [1529411760000, 116830],\n                    [1529411820000, 116642],\n                    [1529411880000, 115601],\n                    [1529411940000, 114469],\n                    [1529412000000, 112347],\n                    [1529412060000, 122014],\n                    [1529412120000, 120417],\n                    [1529412180000, 115089],\n                    [1529412240000, 112815],\n                    [1529412300000, 116324],\n                    [1529412360000, 114670],\n                    [1529412420000, 112497],\n                    [1529412480000, 116774],\n                    [1529412540000, 119257],\n                    [1529412600000, 121955],\n                    [1529412660000, 121690],\n                    [1529412720000, 121432],\n                    [1529412780000, 118179],\n                    [1529412840000, 116440],\n                    [1529412900000, 114253],\n                    [1529412960000, 116167],\n                    [1529413020000, 119214],\n                    [1529413080000, 117041]\n                ]\n            }, \n            {\n                name: '指标2', \n                data: [\n                    [1529409600000, 68592],\n                    [1529409660000, 66443],\n                    [1529409720000, 68637],\n                    [1529409780000, 68697],\n                    [1529409840000, 68716],\n                    [1529409900000, 67119],\n                    [1529409960000, 68135],\n                    [1529410020000, 67068],\n                    [1529410080000, 65789],\n                    [1529410140000, 65779],\n                    [1529410200000, 65777],\n                    [1529410260000, 65879],\n                    [1529410320000, 65800],\n                    [1529410380000, 66000],\n                    [1529410440000, 66008],\n                    [1529410500000, 67277],\n                    [1529410560000, 66987],\n                    [1529410620000, 66771],\n                    [1529410680000, 66943],\n                    [1529410740000, 64825],\n                    [1529410800000, 66635],\n                    [1529410860000, 67960],\n                    [1529410920000, 66948],\n                    [1529410980000, 67606],\n                    [1529411040000, 64638],\n                    [1529411100000, 63868],\n                    [1529411160000, 65210],\n                    [1529411220000, 66572],\n                    [1529411280000, 66151],\n                    [1529411340000, 67589],\n                    [1529411400000, 66340],\n                    [1529411460000, 66191],\n                    [1529411520000, 66504],\n                    [1529411580000, 67385],\n                    [1529411640000, 65806],\n                    [1529411700000, 65614],\n                    [1529411760000, 66191],\n                    [1529411820000, 65664],\n                    [1529411880000, 65783],\n                    [1529411940000, 64951],\n                    [1529412000000, 64353],\n                    [1529412060000, 68035],\n                    [1529412120000, 67170],\n                    [1529412180000, 66725],\n                    [1529412240000, 64843],\n                    [1529412300000, 65341],\n                    [1529412360000, 64871],\n                    [1529412420000, 64194],\n                    [1529412480000, 65090],\n                    [1529412540000, 65905],\n                    [1529412600000, 68489],\n                    [1529412660000, 67083],\n                    [1529412720000, 66888],\n                    [1529412780000, 65622],\n                    [1529412840000, 63742],\n                    [1529412900000, 63152],\n                    [1529412960000, 63549],\n                    [1529413020000, 64021],\n                    [1529413080000, 62980]\n                ]\n            }\n        ]\n    }\n}\n")])])])],2)],1)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#gai-shu"}},[this._v("概述")])]),e("li",[e("a",{attrs:{href:"#shi-li"}},[this._v("示例")])]),e("li",[e("a",{attrs:{href:"#api"}},[this._v("API")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("title")]),t._v(" "),n("td",[t._v("趋势图标题")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("method")]),t._v(" "),n("td",[t._v("request请求类型")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("post")])]),t._v(" "),n("tr",[n("td",[t._v("url")]),t._v(" "),n("td",[t._v("request请求")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("params")]),t._v(" "),n("td",[t._v("request请求参数")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("options")]),t._v(" "),n("td",[t._v("Echarts 趋势图配置")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("requestConfig")]),t._v(" "),n("td",[t._v("可以将url和params、method等参数合并到requestConfig中")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("{}")])]),t._v(" "),n("tr",[n("td",[t._v("trendData")]),t._v(" "),n("td",[t._v("可以直接将已经获取好的数据交给趋势图来渲染")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("{}")])]),t._v(" "),n("tr",[n("td",[t._v("seriesFilter")]),t._v(" "),n("td",[t._v("数据线条后置处理钩子，参数为当前有的数据线条，必须要返回需要展示的线条数据")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("dataFilter")]),t._v(" "),n("td",[t._v("数据后置处理钩子，可在数据请求完成后对数据进行封装处理，参数为请求到的数据，必须要有返回值")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("showLoading")]),t._v(" "),n("td",[t._v("request请求loading文字")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("数据加载中...")])]),t._v(" "),n("tr",[n("td",[t._v("noDataTip")]),t._v(" "),n("td",[t._v("无数据提示，支持HTML")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("无数据")])]),t._v(" "),n("tr",[n("td",[t._v("scrollTrigger")]),t._v(" "),n("td",[t._v("趋势图会默认添加滚动加载事件，默认相对于document来计算滚动，如有特殊定位需求，可通过该参数指定添加滚动事件的Target,格式如‘#id’, '.test'。")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("resizeTrigger")]),t._v(" "),n("td",[t._v("趋势图会默认添加resize事件，默认相对于window来计算，如有特殊需求，可通过该参数指定添加resize事件的Target,格式如‘#id’, '.test'。")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("needSyncTooltips")]),t._v(" "),n("td",[t._v("是否需要联动toolTip,默认为联动")]),t._v(" "),n("td",[t._v("Boolean")]),t._v(" "),n("td",[t._v("true")])]),t._v(" "),n("tr",[n("td",[t._v("unitName")]),t._v(" "),n("td",[t._v("数据单位，如果为流量单位，将会根据1024进制转换为类似"),n("code",[t._v("KB/KBps")]),t._v("等格式")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("axisLabelFormatter")]),t._v(" "),n("td",[t._v("纵坐标轴格式化函数，参数为chartUtil,当前值,单位,小数点位数,国际化翻译函数t")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("tooltipFormatter")]),t._v(" "),n("td",[t._v("tooltip格式化函数，参数为chartUtil,当前值,单位,小数点位数,国际化翻译t")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("showSeriesDetail")]),t._v(" "),n("td",[t._v("展示数据统计信息，如Avg/Max/Min等统计指标,详见上方示例")]),t._v(" "),n("td",[t._v("Boolean")]),t._v(" "),n("td",[t._v("false")])]),t._v(" "),n("tr",[n("td",[t._v("showSeriesDetailText")]),t._v(" "),n("td",[t._v("统计信息展开收起文案")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("'查看详情'")])]),t._v(" "),n("tr",[n("td",[t._v("unfoldSeriesDetail")]),t._v(" "),n("td",[t._v("是否默认展示数据统计信息")]),t._v(" "),n("td",[t._v("Boolean")]),t._v(" "),n("td",[t._v("false")])]),t._v(" "),n("tr",[n("td",[t._v("seriesDetailConf")]),t._v(" "),n("td",[t._v("展示统计信息配置")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("[{title:'监控对象',key:'name'},{title:'Max',key:'max'},{title:'Min',key:'min',order:'desc'},{title:'Avg',key:'avg'}]")])])])])}]}});