webpackJsonp([32],{2182:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(2249),r=o.n(n);for(var c in n)"default"!==c&&function(t){o.d(e,t,function(){return n[t]})}(c);var a=o(2345),s=o(5),i=Object(s.a)(r.a,a.a,a.b,!1,null,null,null);e.default=i.exports},2249:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=c(o(23)),r=c(o(253));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"component-doc",mounted:function(){if(this.scrollEle=document.querySelector(".noahv-layout"),this.tableEle=document.querySelector(".table-of-contents"),this.scrollEle&&this.tableEle){var t=document.querySelectorAll("pre code");[].forEach.call(t,r.default.highlightBlock),this.renderAnchor(),this.$nextTick(this.goAnchor()),this.throttled=n.default.throttle(this.handleFix,100),this.scrollEle.addEventListener("scroll",this.throttled,!1),this.anchors=document.querySelectorAll(".table-of-contents a"),this.tableEle.addEventListener("click",this.anchorClick,!1)}},beforeRouteUpdate:function(t,e,o){o(),t.path===e.path&&t.hash&&this.$nextTick(this.goAnchor)},methods:{handleFix:function(t){var e=t.target.scrollTop,o=0;if(this.anchorsList&&this.anchorsList.length){n.default.find(this.anchorsList,function(t,n){var r=document.querySelector(t);if(r&&e>r.offsetTop+30)o=n;else if(r&&e<r.offsetTop+30)return!0});var r=document.querySelector(".noahv-layout-content-wrapper").offsetHeight,c=document.querySelector(".noahv-layout").offsetHeight;o!==this.anchorsList.length-1&&c+e>r+120&&(o=this.anchorsList.length-1);var a=document.querySelectorAll(".table-of-contents a.active");a.length>0&&a[0].removeAttribute("class"),this.anchors[o].setAttribute("class","active")}},anchorClick:function(t){"A"===t.target.nodeName&&this.goAnchor()},renderAnchor:function(){var t=this,e=document.querySelectorAll(".table-of-contents a"),o=location.href.split("#").splice(0,2).join("#");this.anchorsList=[],[].slice.call(e).forEach(function(e){var n=e.getAttribute("href");t.anchorsList.push(n),e.href=o+n,e.name=n})},goAnchor:function(){if(location.href.match(/#/g).length>1){var t=location.href.match(/#[^#]+$/g);if(!t)return;var e=document.querySelector(t[0]);if(!e)return;setTimeout(function(t){document.querySelector(".noahv-layout").scrollTop=e.offsetTop+30},50)}}},beforeDestroy:function(){this.scrollEle.removeEventListener("scroll",this.throttled,!1),this.tableEle.removeEventListener("click",this.anchorClick,!1)}}},2345:function(t,e,o){"use strict";o.d(e,"a",function(){return n}),o.d(e,"b",function(){return r});var n=function(){var t=this.$createElement;this._self._c;return this._m(0)},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"content noahv-doc deploy-doc"},[o("p"),o("div",{staticClass:"table-of-contents"},[o("ul",[o("li",[o("a",{attrs:{href:"#gai-shu"}},[t._v("概述")])]),o("li",[o("a",{attrs:{href:"#gou-jian"}},[t._v("构建")])]),o("li",[o("a",{attrs:{href:"#bu-shu"}},[t._v("部署")])])])]),o("p"),t._v(" "),o("h2",{attrs:{id:"gai-shu"}},[t._v("概述")]),t._v(" "),o("p",[t._v("本章主要介绍NoahV项目的构建部署相关知识。")]),t._v(" "),o("p",[t._v("在本地开发时，我们使用 "),o("code",[t._v("noahv start")]),t._v(" 命令启动服务，但在应用部署的时候不可以再这样使用，"),o("code",[t._v("noahv start")]),t._v("会针对本地开发做很多处理，而生产运行需要一个更加简单稳定的方式。所以本章主要讲解如何部署你的应用。")]),t._v(" "),o("h2",{attrs:{id:"gou-jian"}},[t._v("构建")]),t._v(" "),o("p",[t._v("项目初始化后目录中会自带一个 "),o("code",[t._v("build.sh")]),t._v(" 的文件，该文件主要是执行的代码编译框架的过程，经过该脚本构建之后会将所有的配置文件和依赖进行压缩合并，在output目录下产出一个 "),o("code",[t._v("noahv.tar.gz")]),t._v(" 的包，压缩包中的文件结构如下所示：")]),t._v(" "),o("pre",[o("code",{staticClass:"language-bash"},[t._v("noahv.tar.gz\n├── static (js/css/image)\n└── index.html (入口文件)\n")])]),t._v(" "),o("h2",{attrs:{id:"bu-shu"}},[t._v("部署")]),t._v(" "),o("p",[t._v("目前NoahV构建之后暂不支持独立部署，而是作为静态文件随API server一起部署，一般是将上述静态文件放到对应的后端框架的指定目录中")]),t._v(" "),o("p",[t._v("如对于 java spring 框架，将压缩包解压到 "),o("code",[t._v("static")]),t._v(" 目录中，将入口指到 "),o("code",[t._v("static/index.html")]),t._v(" 即可。")])])}]}});