webpackJsonp([25],{2201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2268),a=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);var i=n(2366),r=n(5),c=Object(r.a)(a.a,i.a,i.b,!1,null,null,null);t.default=c.exports},2268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(23)),a=s(n(257));function s(e){return e&&e.__esModule?e:{default:e}}t.default={name:"component-doc",mounted:function(){if(this.scrollEle=document.querySelector(".noahv-layout"),this.tableEle=document.querySelector(".table-of-contents"),this.scrollEle&&this.tableEle){var e=document.querySelectorAll("pre code");[].forEach.call(e,a.default.highlightBlock),this.renderAnchor(),this.$nextTick(this.goAnchor()),this.throttled=o.default.throttle(this.handleFix,100),this.scrollEle.addEventListener("scroll",this.throttled,!1),this.anchors=document.querySelectorAll(".table-of-contents a"),this.tableEle.addEventListener("click",this.anchorClick,!1)}},beforeRouteUpdate:function(e,t,n){n(),e.path===t.path&&e.hash&&this.$nextTick(this.goAnchor)},methods:{handleFix:function(e){var t=e.target.scrollTop,n=0;if(this.anchorsList&&this.anchorsList.length){o.default.find(this.anchorsList,function(e,o){var a=document.querySelector(e);if(a&&t>a.offsetTop+30)n=o;else if(a&&t<a.offsetTop+30)return!0});var a=document.querySelector(".noahv-layout-content-wrapper").offsetHeight,s=document.querySelector(".noahv-layout").offsetHeight;n!==this.anchorsList.length-1&&s+t>a+120&&(n=this.anchorsList.length-1);var i=document.querySelectorAll(".table-of-contents a.active");i.length>0&&i[0].removeAttribute("class"),this.anchors[n].setAttribute("class","active")}},anchorClick:function(e){"A"===e.target.nodeName&&this.goAnchor()},renderAnchor:function(){var e=this,t=document.querySelectorAll(".table-of-contents a"),n=location.href.split("#").splice(0,2).join("#");this.anchorsList=[],[].slice.call(t).forEach(function(t){var o=t.getAttribute("href");e.anchorsList.push(o),t.href=n+o,t.name=o})},goAnchor:function(){if(location.href.match(/#/g).length>1){var e=location.href.match(/#[^#]+$/g);if(!e)return;var t=document.querySelector(e[0]);if(!t)return;setTimeout(function(e){document.querySelector(".noahv-layout").scrollTop=t.offsetTop+30},50)}}},beforeDestroy:function(){this.scrollEle.removeEventListener("scroll",this.throttled,!1),this.tableEle.removeEventListener("click",this.anchorClick,!1)}}},2366:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var o=function(){var e=this.$createElement;this._self._c;return this._m(0)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"content noahv-doc specification-doc"},[n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#gai-shu"}},[e._v("概述")])]),n("li",[n("a",{attrs:{href:"#qing-qiu-cheng-gong-jie-kou-ge-shi"}},[e._v("请求成功接口格式")])]),n("li",[n("a",{attrs:{href:"#qing-qiu-shi-bai-jie-kou-ge-shi"}},[e._v("请求失败接口格式")])]),n("li",[n("a",{attrs:{href:"#biao-ge-fen-ye-shu-ju-jie-kou-gua-yong-yu-xu-yao-hou-duan-fen-ye-de-qing-kuang"}},[e._v("表格分页数据接口（适用于需要后端分页的情况）")])]),n("li",[n("a",{attrs:{href:"#deng-lu-tiao-zhuan-jie-kou"}},[e._v("登录跳转接口")])]),n("li",[n("a",{attrs:{href:"#huo-qu-you-shang-jiao-yong-hu-ming-jie-kou-ge-shi"}},[e._v("获取右上角用户名接口格式")])])])]),n("p"),e._v(" "),n("h2",{attrs:{id:"gai-shu"}},[e._v("概述")]),e._v(" "),n("p",[e._v("使用NoahV框架搭建应用，提供接口需要遵从以下格式")]),e._v(" "),n("h2",{attrs:{id:"qing-qiu-cheng-gong-jie-kou-ge-shi"}},[e._v("请求成功接口格式")]),e._v(" "),n("pre",[n("code",{staticClass:"language-json"},[e._v('{\n    "success": true,   // 成功接口必须返回success为true\n    "message": "ok"   // message信息为提供的额外信息，如果请求成功的情况下可以为空\n    "data":  {name: "liming"}                        // object\n             [{name: "liming"}, {name: "fengchengcheng"}]  //数组\n             {}      // 如果是提交表单这类API，没有数据需要返回的话，可以返回空的object\n}\n')])]),e._v(" "),n("h2",{attrs:{id:"qing-qiu-shi-bai-jie-kou-ge-shi"}},[e._v("请求失败接口格式")]),e._v(" "),n("pre",[n("code",{staticClass:"language-json"},[e._v('{\n    "success": false,        // 失败接口必须返回success为false\n    "message": "错误信息"     // message是用来提示用户那里出错的信息\n    "data": []              //  data可为空数组或者空的object \n}\n')])]),e._v(" "),n("h2",{attrs:{id:"biao-ge-fen-ye-shu-ju-jie-kou-gua-yong-yu-xu-yao-hou-duan-fen-ye-de-qing-kuang"}},[e._v("表格分页数据接口（适用于需要后端分页的情况）")]),e._v(" "),n("pre",[n("code",{staticClass:"language-json"},[e._v('{\n    "success": true,\n    "message": "ok",          // 可省略\n    "page" {\n        "totalCount": Number  // 总的条数\n        "pageNo": Number      // 当前页码\n        "pageSize": Number    // 每页显示条数\n    }\n    "data": []                // 当前页码的数据，格式必须是数组\n}\n')])]),e._v(" "),n("h2",{attrs:{id:"deng-lu-tiao-zhuan-jie-kou"}},[e._v("登录跳转接口")]),e._v(" "),n("p",[e._v("当接口有鉴权，前端请求数据发现权限校验不通过是，需要让用户跳转到登录地址，因为是ajax请求，如果直接返回302，登录地址和当前地址不一致时候，可能存在跨域问题。这时候要求接口按照如下格式返回数据，前端在收到对应数据格式之后，在前端做跳转，绕过跨域问题。")]),e._v(" "),n("pre",[n("code",{staticClass:"language-json"},[e._v('{\n    "success": true,\n    "message": "ok",          // 可省略\n    "data": [\n        redirect: \'http://xx.baidu.com\' // 需要跳转到的登录页\n    ]                \n}\n')])]),e._v(" "),n("h2",{attrs:{id:"huo-qu-you-shang-jiao-yong-hu-ming-jie-kou-ge-shi"}},[e._v("获取右上角用户名接口格式")]),e._v(" "),n("pre",[n("code",{staticClass:"language-json"},[e._v('{\n    "success": true,\n    "message": "ok",          // 可省略\n    "data": {\n       userName: \'张三\' // 当前登录用户\n    }\n}\n')])])])}]}});