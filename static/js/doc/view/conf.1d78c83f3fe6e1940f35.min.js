webpackJsonp([36],{2172:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(2239),v=e.n(a);for(var r in a)"default"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);var _=e(2325),s=e(5),i=Object(s.a)(v.a,_.a,_.b,!1,null,null,null);n.default=i.exports},2239:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(23)),v=r(e(253));function r(t){return t&&t.__esModule?t:{default:t}}n.default={name:"component-doc",mounted:function(){if(this.scrollEle=document.querySelector(".noahv-layout"),this.tableEle=document.querySelector(".table-of-contents"),this.scrollEle&&this.tableEle){var t=document.querySelectorAll("pre code");[].forEach.call(t,v.default.highlightBlock),this.renderAnchor(),this.$nextTick(this.goAnchor()),this.throttled=a.default.throttle(this.handleFix,100),this.scrollEle.addEventListener("scroll",this.throttled,!1),this.anchors=document.querySelectorAll(".table-of-contents a"),this.tableEle.addEventListener("click",this.anchorClick,!1)}},beforeRouteUpdate:function(t,n,e){e(),t.path===n.path&&t.hash&&this.$nextTick(this.goAnchor)},methods:{handleFix:function(t){var n=t.target.scrollTop,e=0;if(this.anchorsList&&this.anchorsList.length){a.default.find(this.anchorsList,function(t,a){var v=document.querySelector(t);if(v&&n>v.offsetTop+30)e=a;else if(v&&n<v.offsetTop+30)return!0});var v=document.querySelector(".noahv-layout-content-wrapper").offsetHeight,r=document.querySelector(".noahv-layout").offsetHeight;e!==this.anchorsList.length-1&&r+n>v+120&&(e=this.anchorsList.length-1);var _=document.querySelectorAll(".table-of-contents a.active");_.length>0&&_[0].removeAttribute("class"),this.anchors[e].setAttribute("class","active")}},anchorClick:function(t){"A"===t.target.nodeName&&this.goAnchor()},renderAnchor:function(){var t=this,n=document.querySelectorAll(".table-of-contents a"),e=location.href.split("#").splice(0,2).join("#");this.anchorsList=[],[].slice.call(n).forEach(function(n){var a=n.getAttribute("href");t.anchorsList.push(a),n.href=e+a,n.name=a})},goAnchor:function(){if(location.href.match(/#/g).length>1){var t=location.href.match(/#[^#]+$/g);if(!t)return;var n=document.querySelector(t[0]);if(!n)return;setTimeout(function(t){document.querySelector(".noahv-layout").scrollTop=n.offsetTop+30},50)}}},beforeDestroy:function(){this.scrollEle.removeEventListener("scroll",this.throttled,!1),this.tableEle.removeEventListener("click",this.anchorClick,!1)}}},2325:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return v});var a=function(){var t=this.$createElement;this._self._c;return this._m(0)},v=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"content noahv-doc conf-doc"},[e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#gai-shu"}},[t._v("概述")])]),e("li",[e("a",{attrs:{href:"#qing-qiu-can-shu"}},[t._v("请求参数")])]),e("li",[e("a",{attrs:{href:"#fan-hui-shu-ju-can-shu"}},[t._v("返回数据参数")]),e("ul",[e("li",[e("a",{attrs:{href:"#qu-shi-tu"}},[t._v("趋势图")])]),e("li",[e("a",{attrs:{href:"#yi-biao-tu"}},[t._v("仪表图")])]),e("li",[e("a",{attrs:{href:"#shu-ju-mian-ban"}},[t._v("数据面板")])]),e("li",[e("a",{attrs:{href:"#bao-biao"}},[t._v("报表")])]),e("li",[e("a",{attrs:{href:"#bing-tu"}},[t._v("饼图")])]),e("li",[e("a",{attrs:{href:"#shi-jian-liu-tu"}},[t._v("事件流图")])])])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"gai-shu"}},[t._v("概述")]),t._v(" "),e("p",[t._v("仪表盘目前支持4种可视化组件，分别是趋势图、仪表图、面板、表格，这四种组件展示的数据也需要通过接口获取，都是比较简单的通用接口格式，只需要约定下字段格式。")]),t._v(" "),e("h2",{attrs:{id:"qing-qiu-can-shu"}},[t._v("请求参数")]),t._v(" "),e("p",[t._v("4个可视化组件的请求参数是一样的")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("data")]),t._v(" "),e("td",[t._v("请求数据")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("time")]),t._v(" "),e("td",[t._v("时间区间，格式为"),e("code",[t._v("2018-09-17 19:00|2018-09-17 21:00")])]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("h2",{attrs:{id:"fan-hui-shu-ju-can-shu"}},[t._v("返回数据参数")]),t._v(" "),e("p",[t._v("返回数据整体格式参考"),e("a",{attrs:{href:"#/guide/specification"}},[t._v("接口规范")]),t._v("中的请求成功接口。4种组件的参数和示例如下：")]),t._v(" "),e("h3",{attrs:{id:"qu-shi-tu"}},[t._v("趋势图")]),t._v(" "),e("p",[t._v("res.data(Array)")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("data")]),t._v(" "),e("td",[t._v("详细数据，格式为二维数组, 数组第一项为毫秒时间戳，第二项为具体数据")]),t._v(" "),e("td",[t._v("Array")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("name")]),t._v(" "),e("td",[t._v("数据对应名称")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("pre",[e("code",{staticClass:"language-json"},[t._v("{\n    data: [\n        {\n            name: '指标1,\n            data: [\n                [1529412540000, 100],\n                [1529412600000, 200],\n                [1529412660000, 300],\n                [1529412720000, 400],\n                [1529412840000, 500],\n                [1529413080000, 600],\n                [1529413090000, 700]\n            ]\n        },\n        {\n            name: '指标2,\n            data: [\n                [1529412540000, 200],\n                [1529412600000, 300],\n                [1529412660000, 400],\n                [1529412720000, 500],\n                [1529412840000, 500],\n                [1529413080000, 600],\n                [1529413090000, 700]\n\n            ]\n        }\n    ]\n    success: true,\n    message: 'ok'\n}\n")])]),t._v(" "),e("h3",{attrs:{id:"yi-biao-tu"}},[t._v("仪表图")]),t._v(" "),e("p",[t._v("res(object)")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("data")]),t._v(" "),e("td",[t._v("数据值，百分比数据值")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("pre",[e("code",{staticClass:"language-json"},[t._v("{\n    data: 99.999999\n    success: true,\n    message: 'ok'\n}\n")])]),t._v(" "),e("h3",{attrs:{id:"shu-ju-mian-ban"}},[t._v("数据面板")]),t._v(" "),e("p",[t._v("res.data(array)")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("name")]),t._v(" "),e("td",[t._v("指标性名称")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("value")]),t._v(" "),e("td",[t._v("指标性数值")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("warning")]),t._v(" "),e("td",[t._v("是否飘红展示")]),t._v(" "),e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("false")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("pre",[e("code",{staticClass:"language-json"},[t._v("{\n    data: [\n        {\n            name: '请求平均时长(秒)'\n            value: 10,\n            warning: true\n        },\n        {\n            name: '请求失败量(个)'\n            value: 0\n        },\n        {\n            name: '请求成功率(%)'\n            value: 99.9999999\n        }\n    ],\n    success: true,\n    message: 'ok'\n}\n")])]),t._v(" "),e("h3",{attrs:{id:"bao-biao"}},[t._v("报表")]),t._v(" "),e("p",[t._v("res.data(array)")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("alias")]),t._v(" "),e("td",[t._v("维度别名")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("metrics")]),t._v(" "),e("td",[t._v("指标信息")]),t._v(" "),e("td",[t._v("object")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("value")]),t._v(" "),e("td",[t._v("维度真实名称")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("pre",[e("code",{staticClass:"language-json"},[t._v("{\n    data: [\n        {\n            alias: '维度1'\n            metrics: {\n                alias1: '维度1下指标1值'\n                alias2: '维度1下指标2值'\n                alias3: '维度1下指标3值'\n            },\n            value: '维度1真实名称'\n        },\n        {\n            alias: '维度2'\n            metrics: {\n                alias1: '维度2下指标1值'\n                alias2: '维度下指标2值'\n                alias3: '维度2下指标3值'\n            },\n            value: '维度2真实名称'\n        }\n    ],\n    success: true,\n    message: 'ok'\n}\n")])]),t._v(" "),e("h3",{attrs:{id:"bing-tu"}},[t._v("饼图")]),t._v(" "),e("p",[t._v("res.data(array)")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("name")]),t._v(" "),e("td",[t._v("项目名称")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("value")]),t._v(" "),e("td",[t._v("项目数值")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("pre",[e("code",{staticClass:"language-json"},[t._v("{\n    data: [{\n        name: 'Microsoft Internet Explorer',\n        value: 56.33\n    }, {\n        name: 'Chrome',\n        value: 24.03\n    }, {\n        name: 'Firefox',\n        value: 10.38\n    }, {\n        name: 'Safari',\n        value: 4.77\n    }, {\n        name: 'Opera',\n        value: 0.91\n    }, {\n        name: 'Proprietary or Undetectable',\n        value: 0.2\n    }],\n    success: true,\n    message: 'ok'\n}\n")])]),t._v(" "),e("h3",{attrs:{id:"shi-jian-liu-tu"}},[t._v("事件流图")]),t._v(" "),e("p",[t._v("res.data(array)")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("默认值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("events")]),t._v(" "),e("td",[t._v("事件信息")]),t._v(" "),e("td",[t._v("array")]),t._v(" "),e("td",[t._v("-")])]),t._v(" "),e("tr",[e("td",[t._v("dataSchema")]),t._v(" "),e("td",[t._v("事件元信息")]),t._v(" "),e("td",[t._v("array")]),t._v(" "),e("td",[t._v("-")])])])]),t._v(" "),e("p",[t._v("示例")]),t._v(" "),e("pre",[e("code",{staticClass:"language-json"},[t._v('{\n    "data": {\n        "events": [{\n            "name": "NJ01warning",\n            "eventType": "single",\n            "eventList": [{\n                "startTime": 1503563160,\n                "display": {\n                    "type": "NJ01机房异常",\n                    "operator": "app",\n                    "url": "https://www.noahv.org"\n                },\n                "endTime": 1503563190\n            }, {\n                "startTime": 1503563040,\n                "display": {\n                    "type": "NJ01机房异常",\n                    "operator": "app",\n                    "url": "https://www.noahv.org"\n                },\n                "endTime": 1503563100\n            }, {\n                "startTime": 1503561300,\n                "display": {\n                    "type": "NJ01机房异常",\n                    "operator": "app",\n                    "url": "https://www.noahv.org"\n                },\n                "endTime": 1503561390\n            }]\n        }, {\n            "name": "NJ01error",\n            "display": "NJ01机房异常",\n            "eventType": "single",\n            "eventList": [{\n                "startTime": 1503563100,\n                "endTime": 1503563160\n            }]\n        }],\n        "dataSchema": [{\n            "name": "机房1",\n            "type": "NJ01error",\n            "checked": true\n        },  {\n            "name": "机房二",\n            "type": "NJ01warning",\n            "checked": true,\n            "eventDetailMap": [{\n                "name": "创造者",\n                "key": "product.operator",\n                "type": "arr"\n            }, {\n                "name": "异常类型",\n                "key": "type",\n                "type": "text"\n            }, {\n                "name": "详情",\n                "key": "url",\n                "type": "link"\n            }]\n        }]\n    },\n    "success": true\n}\n')])])])}]}});