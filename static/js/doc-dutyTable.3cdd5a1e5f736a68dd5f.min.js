webpackJsonp([22],{2129:function(t,e,n){t.exports=n(2443)},2197:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"nvDutyTableComplexDemo",data:function(){return{nameArr:["东皇;公孙离","李白;陈独秀;孙尚香","","伽罗;孙悟空","后羿"],nameLists:[],cycle:1,emptyText:"我也不知道写啥",restDayText:"休息日",handOverTime:"00:00",workingDayArr:[{name:1,alias:"星期一"},{name:2,alias:"星期二"},{name:3,alias:"星期三"},{name:4,alias:"星期四"},{name:5,alias:"星期五"},{name:6,alias:"星期六"},{name:0,alias:"星期日"}],workingDay:[0,1,2,3,4,5,6]}},mounted:function(){this.formatNameArr()},methods:{formatNameArr:function(){this.nameLists=this.nameArr.map(function(t){return t?t.split(";").map(function(t){return{name:t,id:t}}):[]})},changeTime:function(t){this.handOverTime=t},mustBeWorkingDay:function(t){return(new Date).getDay()===t}},watch:{}}},2198:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"nvDutyTableNormalDemo",data:function(){return{nameList:[[{name:"东皇",id:"donghuang"},{name:"公孙离",id:"gongsunli"}],[{name:"李白",id:"libai"},{name:"陈独秀",id:"chenduxiu"},{name:"孙尚香",id:"sunshangxiang"}],[{name:"伽罗",id:"jialuo"},{name:"孙悟空",id:"sunwukong"}],[]]}}}},2276:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2197),v=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var i=n(2278),_=n(5);var l=function(t){n(2277)},o=Object(_.a)(v.a,i.a,i.b,!1,l,null,null);e.default=o.exports},2277:function(t,e){},2278:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nv-duty-demo"},[n("Form",{attrs:{"label-width":80,"label-position":"left"}},[n("FormItem",{attrs:{label:"值班人员："}},t._l(t.nameArr,function(e,a){return n("FormItem",{key:a,attrs:{label:a+1+"组："}},[n("Input",{staticStyle:{width:"200px"},on:{"on-blur":t.formatNameArr},model:{value:t.nameArr[a],callback:function(e){t.$set(t.nameArr,a,e)},expression:"nameArr[index]"}})],1)}),1),t._v(" "),n("FormItem",{attrs:{label:"值班周期："}},[n("Select",{staticStyle:{width:"200px"},model:{value:t.cycle,callback:function(e){t.cycle=e},expression:"cycle"}},[n("Option",{attrs:{value:1}},[t._v("日")]),t._v(" "),n("Option",{attrs:{value:7}},[t._v("周")]),t._v(" "),n("Option",{attrs:{value:30}},[t._v("月")])],1)],1),t._v(" "),n("FormItem",{attrs:{label:"工作日："}},[n("CheckboxGroup",{model:{value:t.workingDay,callback:function(e){t.workingDay=e},expression:"workingDay"}},t._l(t.workingDayArr,function(e){return n("Checkbox",{key:e.name,attrs:{label:e.name,disabled:t.mustBeWorkingDay(e.name)}},[t._v(t._s(e.alias))])}),1)],1),t._v(" "),n("FormItem",{attrs:{label:"值班人员未填写文本："}},[n("Input",{staticStyle:{width:"200px"},model:{value:t.emptyText,callback:function(e){t.emptyText=e},expression:"emptyText"}})],1),t._v(" "),n("FormItem",{attrs:{label:"休息日文本："}},[n("Input",{staticStyle:{width:"200px"},model:{value:t.restDayText,callback:function(e){t.restDayText=e},expression:"restDayText"}})],1),t._v(" "),n("FormItem",{attrs:{label:"换班时间："}},[n("TimePicker",{staticStyle:{width:"200px"},attrs:{value:t.handOverTime,format:"HH:mm",placeholder:"选择换班时间"},on:{"on-change":t.changeTime}})],1)],1),t._v(" "),n("NvDutyTable",{style:{fontSize:"12px"},attrs:{"name-list":t.nameLists,cycle:t.cycle,"empty-text":t.emptyText,"rest-day-text":t.restDayText,"hand-over-time":t.handOverTime,"working-day":t.workingDay}})],1)},v=[]},2279:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2198),v=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var i=n(2280),_=n(5),l=Object(_.a)(v.a,i.a,i.b,!1,null,null,null);e.default=l.exports},2280:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v});var a=function(){var t=this.$createElement;return(this._self._c||t)("NvDutyTable",{style:{fontSize:"12px"},attrs:{"name-list":this.nameList}})},v=[]},2383:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(n(2279)),v=r(n(2276));function r(t){return t&&t.__esModule?t:{default:t}}e.default={name:"nvDutyDemo",components:{nvDutyTableNormalDemo:a.default,nvDutyTableComplexDemo:v.default},data:function(){return{nvDutyTableNormalDemoCode:"<template>\n    <NvDutyTable :name-list=\"nameList\" />\n</template>\n\n<script>\nexport default {\n    name: 'nvDutyTableNormalDemo',\n    data() {\n        return {\n            nameList: [\n                [{name: '东皇', id: 'donghuang'}, {name: '公孙离', id: 'gongsunli'}],\n                [{name: '李白', id: 'libai'}, {name: '陈独秀', id: 'chenduxiu'}, {name: '孙尚香', id: 'sunshangxiang'}],\n                [{name: '伽罗', id: 'jialuo'}, {name: '孙悟空', id: 'sunwukong'}],\n                []\n            ]\n        };\n    }\n};\n<\/script>",nvDutyTableComplexDemoCode:'<template>\n    <div class="nv-duty-demo">\n        <Form :label-width="80" label-position="left">\n            <FormItem label="值班人员：">\n                <FormItem v-for="(list, index) in nameArr"\n                          :label="index + 1 + \'组：\'"\n                          :key="index"\n                >\n                    <Input style="width: 200px"\n                           v-model="nameArr[index]"\n                           @on-blur="formatNameArr"\n                    /></FormItem>\n            </FormItem>\n            <FormItem label="值班周期：">\n                <Select v-model="cycle" style="width: 200px">\n                    <Option :value="1">日</Option>\n                    <Option :value="7">周</Option>\n                    <Option :value="30">月</Option>\n                </Select>\n            </FormItem>\n            <FormItem label="工作日：">\n                <CheckboxGroup v-model="workingDay">\n                    <Checkbox v-for="item in workingDayArr" :key="item.name" :label="item.name" :disabled="mustBeWorkingDay(item.name)">{{item.alias}}</Checkbox>\n                </CheckboxGroup>\n            </FormItem>    \n            <FormItem label="值班人员未填写文本：">\n                <Input v-model="emptyText" style="width: 200px" />\n            </FormItem>\n            <FormItem label="休息日文本：">\n                <Input v-model="restDayText" style="width: 200px"></Input>\n            </FormItem>\n            <FormItem label="换班时间：">\n                <TimePicker :value="handOverTime"\n                            @on-change="changeTime"\n                            format="HH:mm"\n                            placeholder="选择换班时间"\n                            style="width: 200px"\n                ></TimePicker>\n            </FormItem>\n        </Form>\n        <NvDutyTable :name-list="nameLists"\n                     :cycle="cycle"\n                     :empty-text="emptyText"\n                     :rest-day-text="restDayText"\n                     :hand-over-time="handOverTime"\n                     :style="{fontSize: \'12px\'}"\n                     :working-day="workingDay"\n        ></NvDutyTable>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: "nvDutyTableComplexDemo",\n    data() {\n        return {\n            nameArr: [\'东皇;公孙离\', \'李白;陈独秀;孙尚香\', \'\', \'伽罗;孙悟空\', \'后羿\'],\n            nameLists: [],\n            cycle: 1,\n            emptyText: \'我也不知道写啥\',\n            restDayText: \'休息日\',\n            handOverTime: \'00:00\',\n            workingDayArr: [\n                {\n                    name: 1,\n                    alias: \'星期一\'\n                },\n                {\n                    name: 2,\n                    alias: \'星期二\'\n                },\n                {\n                    name: 3,\n                    alias: \'星期三\'\n                },\n                {\n                    name: 4,\n                    alias: \'星期四\'\n                },\n                {\n                    name: 5,\n                    alias: \'星期五\'\n                },\n                {\n                    name: 6,\n                    alias: \'星期六\'\n                },\n                {\n                    name: 0,\n                    alias: \'星期日\'\n                }\n            ],\n            workingDay: [0, 1, 2, 3, 4, 5, 6]\n        };\n    },\n    mounted() {\n        this.formatNameArr();\n    },\n    methods: {\n        formatNameArr() {\n            this.nameLists = this.nameArr.map(list => list ? list.split(\';\').map(item => ({name: item, id: item})) : []);\n        },\n        changeTime(time) {\n            this.handOverTime = time;\n        },\n        mustBeWorkingDay(day) {\n            return new Date().getDay() === day;\n        }\n    },\n    watch: {\n    }\n};\n<\/script>'}}}},2443:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2383),v=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var i=n(2444),_=n(5),l=Object(_.a)(v.a,i.a,i.b,!1,null,null,null);e.default=l.exports},2444:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return v});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("saas-doc",[n("h2",[t._v("概述")]),t._v(" "),n("p",[t._v("值班表日历组件，支持配置多值班人员，多周期配置\n"),n("br"),t._v(" "),n("br")]),t._v(" "),n("h2",[t._v("基础示例")]),t._v(" "),n("p",[t._v("构建一个基础使用示例\n"),n("br"),t._v(" "),n("br")]),t._v(" "),[n("Card",[n("p",{staticClass:"card-title"},[t._v("基础用法示例")]),t._v(" "),n("br"),t._v(" "),[n("div",{staticClass:"steps-doc"},[n("div",{staticClass:"example"},[n("nvDutyTableNormalDemo")],1)])],t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("nv-code",{attrs:{content:t.nvDutyTableNormalDemoCode}})],2)],t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),[n("Card",[n("p",{staticClass:"card-title"},[t._v("完整用法示例")]),t._v(" "),n("br"),t._v(" "),[n("div",{staticClass:"steps-doc"},[n("div",{staticClass:"example"},[n("nvDutyTableComplexDemo")],1)])],t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("nv-code",{attrs:{content:t.nvDutyTableComplexDemoCode}})],2)],t._v(" "),n("h2",[t._v("API")]),t._v(" "),n("h3",[t._v("props")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("defaultSelectedYear")]),t._v(" "),n("td",[t._v("默认选择年份")]),t._v(" "),n("td",[t._v("[Number, String]")]),t._v(" "),n("td",[t._v("today.getFullYear() 当前时间年")])]),t._v(" "),n("tr",[n("td",[t._v("defaultSelectedMonth")]),t._v(" "),n("td",[t._v("默认选择月份")]),t._v(" "),n("td",[t._v("[Number, String]")]),t._v(" "),n("td",[t._v("today.getMonth() 当前时间月")])]),t._v(" "),n("tr",[n("td",[t._v("defaultMaxDate")]),t._v(" "),n("td",[t._v("最大时间限制")]),t._v(" "),n("td",[t._v("[Date, String]")]),t._v(" "),n("td",[t._v("new Date(today + 50, 11, 31) 当前时间+50年")])]),t._v(" "),n("tr",[n("td",[t._v("defaultMinDate")]),t._v(" "),n("td",[t._v("最小时间限制")]),t._v(" "),n("td",[t._v("[Date, String]")]),t._v(" "),n("td",[t._v("new Date(today - 5, 0, 1) 当前时间-5年")])]),t._v(" "),n("tr",[n("td",[t._v("defaultStartTime")]),t._v(" "),n("td",[t._v("开始时间")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("new Date().forMate(YYYY-MM-DD 00:00:00)")])]),t._v(" "),n("tr",[n("td",[t._v("styleConfig")]),t._v(" "),n("td",[t._v("样式配置")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("{}")])]),t._v(" "),n("tr",[n("td",[t._v("nameList")]),t._v(" "),n("td",[t._v("值班名单")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("[]")])]),t._v(" "),n("tr",[n("td",[t._v("currentDutyGroup")]),t._v(" "),n("td",[t._v("当前值班组")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("[]")])]),t._v(" "),n("tr",[n("td",[t._v("cycle")]),t._v(" "),n("td",[t._v("值班周期")]),t._v(" "),n("td",[t._v("Number")]),t._v(" "),n("td",[t._v("1")])]),t._v(" "),n("tr",[n("td",[t._v("handOverTime")]),t._v(" "),n("td",[t._v("换班时间")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("00:00")])]),t._v(" "),n("tr",[n("td",[t._v("emptyText")]),t._v(" "),n("td",[t._v("值班人员为空展示文字")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("待添加")])]),t._v(" "),n("tr",[n("td",[t._v("colors")]),t._v(" "),n("td",[t._v("值班组颜色")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("['#108CEE', '#8A58BC', '#545FC8', '#F38800', '#EA2E2E', '#5FB333', '#FBBE04', '#04C1BA']")])]),t._v(" "),n("tr",[n("td",[t._v("colorBlockMinWidth")]),t._v(" "),n("td",[t._v("值班组色块最小宽度")]),t._v(" "),n("td",[t._v("[String、Number]")]),t._v(" "),n("td",[t._v("0")])]),t._v(" "),n("tr",[n("td",[t._v("splitShow")]),t._v(" "),n("td",[t._v("值班色块是否需要分割展示（一般用于长周期）")]),t._v(" "),n("td",[t._v("Boolean")]),t._v(" "),n("td",[t._v("false")])]),t._v(" "),n("tr",[n("td",[t._v("workingDay")]),t._v(" "),n("td",[t._v("工作日")]),t._v(" "),n("td",[t._v("Array")]),t._v(" "),n("td",[t._v("[0, 1, 2, 3, 4, 5, 6] 分别对应周日、周一……周六")])]),t._v(" "),n("tr",[n("td",[t._v("restDayText")]),t._v(" "),n("td",[t._v("非工作日文案展示")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("休息日")])])])]),t._v(" "),n("br"),t._v(" "),n("div",{staticStyle:{"font-weight":"bold"}},[t._v("可能出现的问题: ")]),t._v(" "),n("div",[t._v("1."),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("currentDutyGroup")]),t._v(" 当前值班组 与 "),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("defaultStartTime")]),t._v(" 开始值班时间，"),n("span",{staticStyle:{color:"red"}},[t._v("两者不建议同时传入，会产生歧义")])]),t._v(" "),n("div",[t._v("2."),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("workingDay")]),t._v(" 工作日可能与 "),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("defaultStartTime")]),t._v(" 开始值班时间冲突。例如 11 月25日星期一开始值班，但星期一是非工作日 ")]),t._v(" "),n("div",[t._v("3. "),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("cycle")]),t._v(" 值班周期，不包含非工作日。例如："),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("cycle")]),t._v(" 为 7 天，周一开始值班，周末非工作日不值班。则持续到下周二换班。")]),t._v(" "),n("br"),t._v(" "),n("div",{staticStyle:{"font-weight":"bold"}},[t._v("使用建议：")]),t._v(" "),n("div",[t._v("1.传入"),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("defaultStartTime")]),t._v("，通过组件方法获取 "),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("currentDutyGroup")]),t._v("\n；只传入"),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("currentDutyGroup")]),t._v("，"),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("defaultStartTime")]),t._v(" 默认为今天")]),t._v(" "),n("div",[t._v("2."),n("span",{staticStyle:{color:"red"}},[t._v("避免内部逻辑冲突，开始时间与非工作日不要有交集。")]),t._v("组件内部现有的检验逻辑，如果出现交集，会自动修正，并触发 "),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("ACWorkingDay")]),t._v(" 事件（auto-correct-working-day）。例如：11月25 日星期一开始值班，但星期一是非工作日，组件内部会自动添加星期一为工作日。建议参考该示例，在业务代码中去做限制")]),t._v(" "),n("div",[t._v("3. 设置 "),n("b",{staticStyle:{"font-weight":"bold"}},[t._v("cycle")]),t._v(" 为 5天，周末为非工作日。")]),t._v(" "),n("h3",[t._v("nameList")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("默认值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("name")]),t._v(" "),n("td",[t._v("值班人员名称")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("-")])]),t._v(" "),n("tr",[n("td",[t._v("id")]),t._v(" "),n("td",[t._v("值班人员id")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("-")])])])]),t._v(" "),n("h3",[t._v("events")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("名称")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("参数")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("on-change")]),t._v(" "),n("td",[t._v("时间改变事件")]),t._v(" "),n("td",[t._v("获得选择后的{year, month}")])]),t._v(" "),n("tr",[n("td",[t._v("ACWorkingDay")]),t._v(" "),n("td",[t._v("触发自动修正工作日事件（可用于添加友好交互）")]),t._v(" "),n("td",[t._v("无")])]),t._v(" "),n("tr",[n("td",[t._v("getCurrentDutyGroup")]),t._v(" "),n("td",[t._v("组件内方法")]),t._v(" "),n("td",[t._v("调用获得当前值班组[{name, id}]")])])])])],2)},v=[]}});